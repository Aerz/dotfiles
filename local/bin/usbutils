#!/usr/bin/env bash

sweep_dotfiles() {
    local dotfiles=$(find . -type f -name '.*' -print)
    printf '%s\n' ${dotfiles[@]}

    [ -z "$dotfiles" ] && echo "No dotfiles found" && exit 0

    read -r -p 'Do you want to delete all of these dotfiles [Y/n]' confirm

    case $confirm in
        [Yy]*)
            find . -type f -name '.*' -print -delete
            echo "Done"
        ;;
        [Nn]*)
            echo "Aborted"
            exit  1
        ;;
    esac
}

case $1 in
    sweep)
        sweep_dotfiles
    ;;
esac
